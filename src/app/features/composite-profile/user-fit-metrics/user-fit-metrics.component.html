<ng-container *ngIf="metrics() as m; else noData">
  <mat-card class="metrics-card">
    <mat-card-title>Fitness Metrics</mat-card-title>
    <mat-card-content>
      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>calculate</mat-icon>
          <span>BMI</span>
        </div>
        <div class="metric-value">{{ m.bmi ?? '—' }}</div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>category</mat-icon>
          <span>BMI Category</span>
        </div>
        <div class="metric-value">{{ m.bmiCat ?? '—' }}</div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>local_fire_department</mat-icon>
          <span>BMR</span>
        </div>
        <div class="metric-value">{{ m.bmr ?? '—' }} <span class="unit">kcal</span></div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>flash_on</mat-icon>
          <span>TDEE</span>
        </div>
        <div class="metric-value">{{ m.tdee ?? '—' }} <span class="unit">kcal</span></div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>water_drop</mat-icon>
          <span>Water Target</span>
        </div>
        <div class="metric-value">{{ m.waterL ?? '—' }} <span class="unit">L</span></div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>restaurant</mat-icon>
          <span>Goal Calories</span>
        </div>
        <div class="metric-value">{{ m.goalCalories ?? '—' }} <span class="unit">kcal</span></div>
      </div>

      <div class="metric-item">
        <div class="metric-label">
          <mat-icon>emoji_events</mat-icon>
          <span>Ideal Weight</span>
        </div>
        <div class="metric-value">{{ m.idealWeightKgRange ? (m.idealWeightKgRange.min + ' - ' + m.idealWeightKgRange.max) : '—' }} <span class="unit">kg</span></div>
      </div>

      <div class="calculation-info">
        <mat-icon>info</mat-icon>
        <span>Last updated: {{ m.lastCalculatedAt }}</span>
      </div>
    </mat-card-content>
  </mat-card>
</ng-container>
<ng-template #noData>
  <mat-card class="no-data-card">
    <mat-card-content>
      <mat-icon>info_outline</mat-icon>
      <p>No metrics available</p>
      <p class="hint">Complete your profile to see your fitness metrics</p>
    </mat-card-content>
  </mat-card>
</ng-template>
